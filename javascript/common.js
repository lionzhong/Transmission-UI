function setInnerHTML(e,t){e&&e.currentHTML!=t&&(e.currentHTML=t,e.innerHTML=t)}function sanitizeText(e){return e.replace(/</g,"&lt;").replace(/>/g,"&gt;")}function setTextContent(e,t){e&&e.textContent!=t&&(e.textContent=t)}function Prefs(){}function parseUri(e){for(var t=parseUri.options,r=t.parser[t.strictMode?"strict":"loose"].exec(e),i={},n=14;n--;)i[t.key[n]]=r[n]||"";return i[t.q.name]={},i[t.key[12]].replace(t.q.parser,function(e,r,n){r&&(i[t.q.name][r]=n)}),i}var transmission,dialog,isMobileDevice=RegExp("(iPhone|iPod|Android)").test(navigator.userAgent),scroll_timeout;Array.indexOf||(Array.prototype.indexOf=function(e){var t,r;for(t=0,r=this.length;t<r;t++)if(this[t]==e)return t;return-1}),$.fn.tabbedDialog=function(e){this.tabs({selected:0}),this.dialog(e),this.find(".ui-tab-dialog-close").append(this.parent().find(".ui-dialog-titlebar-close")),this.find(".ui-tab-dialog-close").css({position:"absolute",right:"0",top:"16px"}),this.find(".ui-tab-dialog-close > a").css({"float":"none",padding:"0"});var t=this.find("ul:first");this.parent().addClass("ui-tabs").prepend(t).draggable("option","handle",t),this.siblings(".ui-dialog-titlebar").remove(),t.addClass("ui-dialog-titlebar")},$(document).ready(function(){if(Date.now||(Date.now=function(){return+new Date}),$.browser.msie){try{document.execCommand("BackgroundImageCache",!1,!0)}catch(e){}$(".dialog_container").css("height",$(window).height()+"px")}$.browser.safari,isMobileDevice?(window.onload=function(){setTimeout(function(){window.scrollTo(0,1)},500)},window.onorientationchange=function(){setTimeout(function(){window.scrollTo(0,1)},100)},window.navigator.standalone&&$("body div#torrent_container").css("min-height","338px"),$("label[for=torrent_upload_url]").text("URL: ")):($(".trans_menu ul, div#jqContextMenu, div.dialog_container div.dialog_window"),$(".trans_menu div.outerbox").css("border","none")),dialog=new Dialog,transmission=new Transmission}),Math.ratio=function(e,t){var r=Math.floor(100*e/t)/100;return r==Number.POSITIVE_INFINITY||r==Number.NEGATIVE_INFINITY?r=-2:isNaN(r)&&(r=-1),r},Number.prototype.toTruncFixed=function(e){var t=Math.floor(this*Math.pow(10,e))/Math.pow(10,e);return t.toFixed(e)},Number.prototype.toStringWithCommas=function(){return this.toString().replace(/\B(?=(?:\d{3})+(?!\d))/g,",")},String.prototype.trim=function(){return this.replace(/^\s*/,"").replace(/\s*$/,"")},Prefs.prototype={},Prefs._RefreshRate="refresh_rate",Prefs._FilterMode="filter",Prefs._FilterAll="all",Prefs._FilterActive="active",Prefs._FilterSeeding="seeding",Prefs._FilterDownloading="downloading",Prefs._FilterPaused="paused",Prefs._FilterFinished="finished",Prefs._SortDirection="sort_direction",Prefs._SortAscending="ascending",Prefs._SortDescending="descending",Prefs._SortMethod="sort_method",Prefs._SortByAge="age",Prefs._SortByActivity="activity",Prefs._SortByName="name",Prefs._SortByQueue="queue_order",Prefs._SortBySize="size",Prefs._SortByProgress="percent_completed",Prefs._SortByRatio="ratio",Prefs._SortByState="state",Prefs._CompactDisplayState="compact_display_state",Prefs._Defaults={filter:"all",refresh_rate:5,sort_direction:"ascending",sort_method:"name","turtle-state":!1,compact_display_state:!1},Prefs.setValue=function(e,t){e in Prefs._Defaults||console.warn("unrecognized preference key '%s'",e);var r=30,i=new Date;i.setTime(i.getTime()+24*r*60*60*1e3),document.cookie=e+"="+t+"; expires="+i.toGMTString()+"; path=/"},Prefs.getValue=function(e,t){var r;e in Prefs._Defaults||console.warn("unrecognized preference key '%s'",e);for(var i=document.cookie.split(";"),n=0,o=i.length;!r&&n<o;++n){var s=i[n].trim(),a=s.indexOf("=");a===e.length&&0===s.indexOf(e)&&(r=s.substring(a+1))}return r?"true"===r?r=!0:"false"===r&&(r=!1):r=t,r},Prefs.getClutchPrefs=function(e){e||(e={});for(var t in Prefs._Defaults)e[t]=Prefs.getValue(t,Prefs._Defaults[t]);return e},jQuery.fn.forceNumeric=function(){return this.each(function(){$(this).keydown(function(e){var t=e.which||e.keyCode;return!e.shiftKey&&!e.altKey&&!e.ctrlKey&&t>=48&&t<=57||t>=96&&t<=105||190===t||188===t||109===t||110===t||8===t||9===t||13===t||35===t||36===t||37===t||39===t||46===t||45===t})})},parseUri.options={strictMode:!1,key:["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"],q:{name:"queryKey",parser:/(?:^|&)([^&=]*)=?([^&]*)/g},parser:{strict:/^(?:([^:\/?#]+):)?(?:\/\/((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?))?((((?:[^?#\/]*\/)*)([^?#]*))(?:\?([^#]*))?(?:#(.*))?)/,loose:/^(?:(?![^:@]+:[^:@\/]*@)([^:\/?#.]+):)?(?:\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/}};